{"ast":null,"code":"var _jsxFileName = \"/Users/onesmusnyakotyo/earnedit/frontend/src/screens/PlaceOrderScreen.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react'; //import { Link } from 'react-router-dom'\n\nimport { Button, Row, Col, ListGroup, Card } from 'react-bootstrap';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Message from '../components/Message';\nimport { createOrder } from '../actions/orderActions'; //import { ORDER_CREATE_RESET } from '../constants/orderConstants'\n//import { USER_DETAILS_RESET } from '../constants/userConstants'\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst PlaceOrderScreen = () => {\n  _s();\n\n  const dispatch = useDispatch();\n  const order = useSelector(state => state.order); //   Calculate prices\n\n  const addDecimals = num => {\n    return (Math.round(num * 100) / 100).toFixed(2);\n  }; // order.sendAmount = addDecimals(\n  //   order.sendAmount.reduce((acc, item) => acc + item.sendAmount, 0)\n  // )\n  //order.sendAmount = Number(order.sendAmount).toFixed(3)\n\n\n  order.shippingAmount = addDecimals(order.sendAmount.fromAmount * 0.10, 0);\n  order.totalAmount = (Number(order.sendAmount.fromAmount) + Number(order.shippingAmount)).toFixed(2);\n  order.sendAmount.fromAmount = Number(order.sendAmount.fromAmount);\n  order.sendAmount.toAmount = Number(order.sendAmount.toAmount).toFixed(2);\n  console.log('C', order.collectionMethod); //cart.totalPrice = Number(cart.itemsPrice + cart.taxPrice).toFixed(2)\n\n  console.log('TOTAL AMOUNT', order.sendCountry);\n  const orderCreate = useSelector(state => state.orderCreate); //const { placeorder, success, error } = orderCreate\n\n  const {\n    success,\n    error\n  } = orderCreate;\n  useEffect(() => {\n    if (success) {\n      //history.push(`/order/${order._id}`)\n      //history.push('/payment')\n      console.log('Transaction: ', success);\n    } // eslint-disable-next-line\n\n  }, [history, success]);\n\n  const submitTransactionHandler = () => {\n    dispatch(createOrder({\n      orderAmount: order.sendAmount,\n      shippingAmount: order.shippingAmount,\n      recipientAddress: order.recipientAddress,\n      totalAmount: order.totalAmount,\n      exchangeRate: order.exchangeRate,\n      sendCountry: order.sendCountry,\n      collectionMethod: order.collectionMethod\n    }));\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Row, {\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        md: 5,\n        children: /*#__PURE__*/_jsxDEV(ListGroup, {\n          variant: \"flush\",\n          children: [/*#__PURE__*/_jsxDEV(ListGroup.Item, {\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"Recipient's Address\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(Row, {\n                children: /*#__PURE__*/_jsxDEV(Col, {\n                  children: [order.recipientAddress.firstName, \" \", order.recipientAddress.middleName, \" \", ' ', \" \", order.recipientAddress.lastName, \",\", ' ']\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 84,\n                  columnNumber: 24\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 84,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Row, {\n                children: /*#__PURE__*/_jsxDEV(Col, {\n                  children: [order.recipientAddress.address, \", \"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 88,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 87,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Row, {\n                children: /*#__PURE__*/_jsxDEV(Col, {\n                  children: [order.recipientAddress.town, \",\", ' ']\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 91,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 90,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Row, {\n                children: /*#__PURE__*/_jsxDEV(Col, {\n                  children: [order.recipientAddress.country, \".\", ' ']\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 94,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Row, {\n                children: /*#__PURE__*/_jsxDEV(Col, {\n                  children: [\" \", order.recipientAddress.email, ' ']\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 97,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 96,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Row, {\n                children: /*#__PURE__*/_jsxDEV(Col, {\n                  children: [order.recipientAddress.phone, ' ']\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 100,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 99,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Row, {\n                children: /*#__PURE__*/_jsxDEV(Col, {\n                  children: order.recipientAddress.reason\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 103,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 102,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"Money Collection Method\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Method: \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 19\n            }, this), order.collectionMethod.collectionMethod]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        md: 7,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          children: /*#__PURE__*/_jsxDEV(ListGroup, {\n            variant: \"flush\",\n            children: [/*#__PURE__*/_jsxDEV(ListGroup.Item, {\n              children: /*#__PURE__*/_jsxDEV(\"h2\", {\n                children: \"Transaction Summary\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 128,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n              children: /*#__PURE__*/_jsxDEV(Row, {\n                children: [/*#__PURE__*/_jsxDEV(Col, {\n                  children: \"Paying\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 132,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Col, {\n                  children: [\"\\u20AC\", order.sendAmount.fromAmount]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 133,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 131,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n              children: /*#__PURE__*/_jsxDEV(Row, {\n                children: [/*#__PURE__*/_jsxDEV(Col, {\n                  children: \"Transaction Fee\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 139,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Col, {\n                  children: [\"$\", order.shippingAmount]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 140,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 138,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n              children: /*#__PURE__*/_jsxDEV(Row, {\n                children: [/*#__PURE__*/_jsxDEV(Col, {\n                  children: \"Exchange Rate\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 146,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Col, {\n                  children: [\" \\u20AC 1 = $ \", order.sendAmount.exchangeRate, \" \"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 147,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 145,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n              children: /*#__PURE__*/_jsxDEV(Row, {\n                children: [/*#__PURE__*/_jsxDEV(Col, {\n                  children: \"Total Amount\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 153,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Col, {\n                  children: [\"$\", order.totalAmount]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 154,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 152,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n              children: /*#__PURE__*/_jsxDEV(Row, {\n                children: [/*#__PURE__*/_jsxDEV(Col, {\n                  children: \"Your Receiver Gets\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 160,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Col, {\n                  children: [\"$ \", order.sendAmount.toAmount]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 161,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 159,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n              children: error && /*#__PURE__*/_jsxDEV(Message, {\n                variant: \"danger\",\n                children: error\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 166,\n                columnNumber: 43\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 165,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                type: \"button\",\n                className: \"btn-block\",\n                onClick: submitTransactionHandler,\n                children: \"Submit Transaction\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 170,\n                columnNumber: 31\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n};\n\n_s(PlaceOrderScreen, \"oURaqjFgd3lrc1MaOcCzT0l6za4=\", false, function () {\n  return [useDispatch, useSelector, useSelector];\n});\n\n_c = PlaceOrderScreen;\nexport default PlaceOrderScreen;\n\nvar _c;\n\n$RefreshReg$(_c, \"PlaceOrderScreen\");","map":{"version":3,"sources":["/Users/onesmusnyakotyo/earnedit/frontend/src/screens/PlaceOrderScreen.js"],"names":["React","useEffect","Button","Row","Col","ListGroup","Card","useDispatch","useSelector","Message","createOrder","PlaceOrderScreen","dispatch","order","state","addDecimals","num","Math","round","toFixed","shippingAmount","sendAmount","fromAmount","totalAmount","Number","toAmount","console","log","collectionMethod","sendCountry","orderCreate","success","error","history","submitTransactionHandler","orderAmount","recipientAddress","exchangeRate","firstName","middleName","lastName","address","town","country","email","phone","reason"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC,C,CACA;;AACA,SAASC,MAAT,EAAiBC,GAAjB,EAAsBC,GAAtB,EAA2BC,SAA3B,EAAqCC,IAArC,QAAiD,iBAAjD;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,OAAOC,OAAP,MAAoB,uBAApB;AACA,SAASC,WAAT,QAA4B,yBAA5B,C,CACA;AACA;;;;;AAGA,MAAMC,gBAAgB,GAAG,MAAM;AAAA;;AAE7B,QAAMC,QAAQ,GAAGL,WAAW,EAA5B;AAEA,QAAMM,KAAK,GAAGL,WAAW,CAAEM,KAAD,IAAWA,KAAK,CAACD,KAAlB,CAAzB,CAJ6B,CAM5B;;AACD,QAAME,WAAW,GAAIC,GAAD,IAAS;AAC3B,WAAO,CAACC,IAAI,CAACC,KAAL,CAAWF,GAAG,GAAG,GAAjB,IAAwB,GAAzB,EAA8BG,OAA9B,CAAsC,CAAtC,CAAP;AACD,GAFD,CAP6B,CAW7B;AACA;AACA;AAED;;;AAECN,EAAAA,KAAK,CAACO,cAAN,GAAuBL,WAAW,CAACF,KAAK,CAACQ,UAAN,CAAiBC,UAAjB,GAA8B,IAA/B,EAAqC,CAArC,CAAlC;AAEAT,EAAAA,KAAK,CAACU,WAAN,GAAoB,CAClBC,MAAM,CAACX,KAAK,CAACQ,UAAN,CAAiBC,UAAlB,CAAN,GACAE,MAAM,CAACX,KAAK,CAACO,cAAP,CAFY,EAGhBD,OAHgB,CAGR,CAHQ,CAApB;AAKAN,EAAAA,KAAK,CAACQ,UAAN,CAAiBC,UAAjB,GAA8BE,MAAM,CAACX,KAAK,CAACQ,UAAN,CAAiBC,UAAlB,CAApC;AAEAT,EAAAA,KAAK,CAACQ,UAAN,CAAiBI,QAAjB,GAA4BD,MAAM,CAACX,KAAK,CAACQ,UAAN,CAAiBI,QAAlB,CAAN,CAAkCN,OAAlC,CAA0C,CAA1C,CAA5B;AAIAO,EAAAA,OAAO,CAACC,GAAR,CAAY,GAAZ,EAAgBd,KAAK,CAACe,gBAAtB,EA9B6B,CAgC5B;;AACAF,EAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA2Bd,KAAK,CAACgB,WAAjC;AAID,QAAMC,WAAW,GAAItB,WAAW,CAACM,KAAK,IAAIA,KAAK,CAACgB,WAAhB,CAAhC,CArC6B,CAsC7B;;AACC,QAAM;AAAEC,IAAAA,OAAF;AAAWC,IAAAA;AAAX,MAAqBF,WAA3B;AAED7B,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAG8B,OAAH,EAAY;AACR;AACA;AACAL,MAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ,EAA4BI,OAA5B;AACD,KALS,CAMV;;AACH,GAPM,EAOJ,CAACE,OAAD,EAASF,OAAT,CAPI,CAAT;;AASA,QAAMG,wBAAwB,GAAG,MAAM;AACrCtB,IAAAA,QAAQ,CAACF,WAAW,CAAC;AACjByB,MAAAA,WAAW,EAAEtB,KAAK,CAACQ,UADF;AAEjBD,MAAAA,cAAc,EAAEP,KAAK,CAACO,cAFL;AAGjBgB,MAAAA,gBAAgB,EAAEvB,KAAK,CAACuB,gBAHP;AAIjBb,MAAAA,WAAW,EAAEV,KAAK,CAACU,WAJF;AAKjBc,MAAAA,YAAY,EAAExB,KAAK,CAACwB,YALH;AAMjBR,MAAAA,WAAW,EAAEhB,KAAK,CAACgB,WANF;AAOjBD,MAAAA,gBAAgB,EAAEf,KAAK,CAACe;AAPP,KAAD,CAAZ,CAAR;AASD,GAVD;;AAaE,sBACE;AAAA,2BAEE,QAAC,GAAD;AAAA,8BACQ,QAAC,GAAD;AAAK,QAAA,EAAE,EAAE,CAAT;AAAA,+BACA,QAAC,SAAD;AAAW,UAAA,OAAO,EAAC,OAAnB;AAAA,kCACA,QAAC,SAAD,CAAW,IAAX;AAAA,oCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,eAGE;AAAA,sCACA,QAAC,GAAD;AAAA,uCAAK,QAAC,GAAD;AAAA,6BAAMf,KAAK,CAACuB,gBAAN,CAAuBE,SAA7B,OAAyCzB,KAAK,CAACuB,gBAAN,CAAuBG,UAAhE,OAA6E,GAA7E,OAAmF1B,KAAK,CAACuB,gBAAN,CAAuBI,QAA1G,OAAqH,GAArH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAL;AAAA;AAAA;AAAA;AAAA,sBADA,eAIA,QAAC,GAAD;AAAA,uCACE,QAAC,GAAD;AAAA,6BAAM3B,KAAK,CAACuB,gBAAN,CAAuBK,OAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,sBAJA,eAOA,QAAC,GAAD;AAAA,uCACE,QAAC,GAAD;AAAA,6BAAM5B,KAAK,CAACuB,gBAAN,CAAuBM,IAA7B,OAAoC,GAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,sBAPA,eAUA,QAAC,GAAD;AAAA,uCACE,QAAC,GAAD;AAAA,6BAAM7B,KAAK,CAACuB,gBAAN,CAAuBO,OAA7B,OAAuC,GAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,sBAVA,eAaA,QAAC,GAAD;AAAA,uCACE,QAAC,GAAD;AAAA,kCAAO9B,KAAK,CAACuB,gBAAN,CAAuBQ,KAA9B,EAAqC,GAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,sBAbA,eAgBA,QAAC,GAAD;AAAA,uCACE,QAAC,GAAD;AAAA,6BAAM/B,KAAK,CAACuB,gBAAN,CAAuBS,KAA7B,EAAoC,GAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,sBAhBA,eAmBA,QAAC,GAAD;AAAA,uCACE,QAAC,GAAD;AAAA,4BAAMhC,KAAK,CAACuB,gBAAN,CAAuBU;AAA7B;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,sBAnBA;AAAA,4BAHF;AAAA;AAAA;AAAA;AAAA;AAAA,kBADA,eAgCA,QAAC,SAAD,CAAW,IAAX;AAAA,oCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFF,EAKKjC,KAAK,CAACe,gBAAN,CAAuBA,gBAL5B;AAAA;AAAA;AAAA;AAAA;AAAA,kBAhCA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,cADR,eA+CQ,QAAC,GAAD;AAAK,QAAA,EAAE,EAAE,CAAT;AAAA,+BACI,QAAC,IAAD;AAAA,iCACI,QAAC,SAAD;AAAW,YAAA,OAAO,EAAC,OAAnB;AAAA,oCACI,QAAC,SAAD,CAAW,IAAX;AAAA,qCACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,oBADJ,eAII,QAAC,SAAD,CAAW,IAAX;AAAA,qCACI,QAAC,GAAD;AAAA,wCACI,QAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADJ,eAEI,QAAC,GAAD;AAAA,uCAAOf,KAAK,CAACQ,UAAN,CAAiBC,UAAxB;AAAA;AAAA;AAAA;AAAA;AAAA,wBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,oBAJJ,eAWI,QAAC,SAAD,CAAW,IAAX;AAAA,qCACI,QAAC,GAAD;AAAA,wCACI,QAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADJ,eAEI,QAAC,GAAD;AAAA,kCAAOT,KAAK,CAACO,cAAb;AAAA;AAAA;AAAA;AAAA;AAAA,wBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,oBAXJ,eAkBI,QAAC,SAAD,CAAW,IAAX;AAAA,qCACI,QAAC,GAAD;AAAA,wCACI,QAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADJ,eAEI,QAAC,GAAD;AAAA,+CAAeP,KAAK,CAACQ,UAAN,CAAiBgB,YAAhC;AAAA;AAAA;AAAA;AAAA;AAAA,wBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,oBAlBJ,eAyBI,QAAC,SAAD,CAAW,IAAX;AAAA,qCACI,QAAC,GAAD;AAAA,wCACI,QAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADJ,eAEI,QAAC,GAAD;AAAA,kCAAOxB,KAAK,CAACU,WAAb;AAAA;AAAA;AAAA;AAAA;AAAA,wBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,oBAzBJ,eAgCI,QAAC,SAAD,CAAW,IAAX;AAAA,qCACI,QAAC,GAAD;AAAA,wCACI,QAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADJ,eAEI,QAAC,GAAD;AAAA,mCAAQV,KAAK,CAACQ,UAAN,CAAiBI,QAAzB;AAAA;AAAA;AAAA;AAAA;AAAA,wBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,oBAhCJ,eAuCI,QAAC,SAAD,CAAW,IAAX;AAAA,wBACKO,KAAK,iBAAI,QAAC,OAAD;AAAS,gBAAA,OAAO,EAAC,QAAjB;AAAA,0BAA2BA;AAA3B;AAAA;AAAA;AAAA;AAAA;AADd;AAAA;AAAA;AAAA;AAAA,oBAvCJ,eA0CI,QAAC,SAAD,CAAW,IAAX;AAAA,qCAEE,QAAC,MAAD;AAAQ,gBAAA,IAAI,EAAC,QAAb;AAAsB,gBAAA,SAAS,EAAC,WAAhC;AACE,gBAAA,OAAO,EAAEE,wBADX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAFF;AAAA;AAAA;AAAA;AAAA,oBA1CJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cA/CR;AAAA;AAAA;AAAA;AAAA;AAAA;AAFF,mBADF;AA8GH,CA7KD;;GAAMvB,gB;UAEaJ,W,EAEHC,W,EAiCOA,W;;;KArCjBG,gB;AA+KN,eAAeA,gBAAf","sourcesContent":["import React, { useEffect } from 'react'\n//import { Link } from 'react-router-dom'\nimport { Button, Row, Col, ListGroup,Card } from 'react-bootstrap'\nimport { useDispatch, useSelector } from 'react-redux'\nimport Message from '../components/Message'\nimport { createOrder } from '../actions/orderActions'\n//import { ORDER_CREATE_RESET } from '../constants/orderConstants'\n//import { USER_DETAILS_RESET } from '../constants/userConstants'\n\n\nconst PlaceOrderScreen = () => {\n\n  const dispatch = useDispatch()\n\n  const order = useSelector((state) => state.order)\n\n   //   Calculate prices\n  const addDecimals = (num) => {\n    return (Math.round(num * 100) / 100).toFixed(2)\n  }\n\n  // order.sendAmount = addDecimals(\n  //   order.sendAmount.reduce((acc, item) => acc + item.sendAmount, 0)\n  // )\n\n //order.sendAmount = Number(order.sendAmount).toFixed(3)\n\n  order.shippingAmount = addDecimals(order.sendAmount.fromAmount * 0.10, 0)\n\n  order.totalAmount = (\n    Number(order.sendAmount.fromAmount) +\n    Number(order.shippingAmount )\n    ).toFixed(2)\n\n  order.sendAmount.fromAmount = Number(order.sendAmount.fromAmount)\n\n  order.sendAmount.toAmount = Number(order.sendAmount.toAmount).toFixed(2)\n\n \n\n  console.log('C',order.collectionMethod)\n\n   //cart.totalPrice = Number(cart.itemsPrice + cart.taxPrice).toFixed(2)\n   console.log('TOTAL AMOUNT',order.sendCountry)\n    \n  \n\n  const orderCreate =  useSelector(state => state.orderCreate)\n  //const { placeorder, success, error } = orderCreate\n   const { success, error } = orderCreate\n\n  useEffect(() => {\n      if(success) {\n          //history.push(`/order/${order._id}`)\n          //history.push('/payment')\n          console.log('Transaction: ',success)\n        } \n        // eslint-disable-next-line\n    }, [history,success])\n\n  const submitTransactionHandler = () => {\n    dispatch(createOrder({\n        orderAmount: order.sendAmount,\n        shippingAmount: order.shippingAmount, \n        recipientAddress: order.recipientAddress,\n        totalAmount: order.totalAmount, \n        exchangeRate: order.exchangeRate,\n        sendCountry: order.sendCountry,\n        collectionMethod: order.collectionMethod\n    }))\n  }\n  \n\n    return (\n      <>\n          \n        <Row>\n                <Col md={5}>\n                <ListGroup variant='flush'>\n                <ListGroup.Item>\n                  <h2>Recipient's Address</h2>\n                  \n                  <>\n                  <Row><Col>{order.recipientAddress.firstName} {order.recipientAddress.middleName} {' '} {order.recipientAddress.lastName},{' '}</Col></Row>\n                  \n                  \n                  <Row>\n                    <Col>{order.recipientAddress.address}, </Col>\n                  </Row>\n                  <Row>\n                    <Col>{order.recipientAddress.town},{' '}</Col>\n                  </Row>\n                  <Row>\n                    <Col>{order.recipientAddress.country}.{' '}</Col>\n                  </Row>\n                  <Row>\n                    <Col> {order.recipientAddress.email}{' '}</Col>\n                  </Row>\n                  <Row>\n                    <Col>{order.recipientAddress.phone}{' '}</Col>\n                    </Row> \n                  <Row>\n                    <Col>{order.recipientAddress.reason}</Col>\n                  </Row>  \n                  \n                  </>\n                    \n                  \n                </ListGroup.Item>\n\n                <ListGroup.Item>\n                  <h2>Money Collection Method</h2>\n                  <strong>Method: </strong>\n                    {/* {JSON.stringify(order.collectionMethod.collectionMethod)} */}\n\n                    {order.collectionMethod.collectionMethod}\n                  \n                  \n                </ListGroup.Item> \n\n                </ListGroup>\n                </Col>\n\n                <Col md={7}>\n                    <Card>\n                        <ListGroup variant='flush'>\n                            <ListGroup.Item>\n                                <h2>Transaction Summary</h2>\n                            </ListGroup.Item>\n                            <ListGroup.Item>\n                                <Row>\n                                    <Col>Paying</Col>\n                                    <Col>€{order.sendAmount.fromAmount}</Col>\n                                </Row>\n\n                            </ListGroup.Item>\n                            <ListGroup.Item>\n                                <Row>\n                                    <Col>Transaction Fee</Col>\n                                    <Col>${order.shippingAmount}</Col>\n                                </Row>\n\n                            </ListGroup.Item>\n                            <ListGroup.Item>\n                                <Row>\n                                    <Col>Exchange Rate</Col>\n                                    <Col> € 1 = $ {order.sendAmount.exchangeRate} </Col>\n                                </Row>\n\n                            </ListGroup.Item>\n                            <ListGroup.Item>\n                                <Row>\n                                    <Col>Total Amount</Col>\n                                    <Col>${order.totalAmount}</Col>\n                                </Row>\n\n                            </ListGroup.Item>\n                            <ListGroup.Item>\n                                <Row>\n                                    <Col>Your Receiver Gets</Col>\n                                    <Col>$ {order.sendAmount.toAmount}</Col>\n                                </Row>\n\n                            </ListGroup.Item>\n                            <ListGroup.Item>\n                                {error && <Message variant='danger'>{error}</Message>}\n                            </ListGroup.Item>\n                            <ListGroup.Item>\n                              {/* <Button type='button' className='btn-block' disabled={order.cartItems === 0 } */}\n                              <Button type='button' className='btn-block' \n                                onClick={submitTransactionHandler}>Submit Transaction</Button>\n\n                            </ListGroup.Item>\n\n                        </ListGroup>\n                    </Card>\n                </Col>\n      </Row>\n    </>\n  )\n\n\n  \n}\n\nexport default PlaceOrderScreen\n"]},"metadata":{},"sourceType":"module"}